(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{51:function(e,t,i){"use strict";i.r(t);var a=i(0),n=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[i("h1",{attrs:{id:"timelock"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#timelock","aria-hidden":"true"}},[e._v("#")]),e._v(" Timelock")]),i("p",[e._v("Can't spend Bitcoin until a certain time. The time may be either:")]),i("ul",[i("li",[e._v("Relative to block")]),i("li",[e._v("Absolute time")])]),i("p",[e._v("Can be either transaction based (open to double-spend vulnerability) or UTXO based.")]),i("p",[e._v("Four types:")]),i("ul",[i("li",[e._v("nLocktime - absolute timelock")]),i("li",[i("code",[e._v("CHECKLOCKTIMEVERIFY")]),e._v(" (CLTV) - absolute timelock")]),i("li",[e._v("nSequence -relative timelock")]),i("li",[i("code",[e._v("CHECKSEQUENCEVERIFY")]),e._v(" (CSV) -relative timelock")])]),i("h2",{attrs:{id:"nlocktime"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#nlocktime","aria-hidden":"true"}},[e._v("#")]),e._v(" nLocktime")]),i("ul",[i("li",[e._v("Present since start of bitcoin.")]),i("li",[e._v("Transaction level lock - can't add the transaction to the blockchain until the locktime has elapsed.")]),i("li",[e._v("Defines the earliest time a tx can be spent - actually added to blockchain.")]),i("li",[e._v("If less than 500 million, refers to block height.")]),i("li",[e._v("If more than 500 million, refers to Unix epoch timestamp.")]),i("li",[e._v("Held by original node, rejected by others.")])]),i("h2",{attrs:{id:"check-lock-time-verify-cltv"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#check-lock-time-verify-cltv","aria-hidden":"true"}},[e._v("#")]),e._v(" Check Lock Time Verify (CLTV)")]),i("ul",[i("li",[e._v("Since 2015.")]),i("li",[e._v("OP code for script language.")]),i("li",[e._v("Output-level lock - can't use the output as an input until the required timelock has elapsed.")]),i("li",[e._v("Block height or Unix epoch timestamp.")]),i("li",[e._v("Tx can be broadcast, included in block - but no-one will be able to unlock the UTXO until the timelock has elapsed.")]),i("li",[e._v("Outputs can't be double spent - they are in the blockchain, but not redeemable until the timelock has elapsed.")])]),i("p",[e._v("Example locking script with CLTV:")]),i("pre",{pre:!0,attrs:{class:"language-text"}},[i("code",[e._v("1585298868 OP_CHECKLOCKTIMEVERIFY OP_DROP OP_DUP OP_HASH160 <PubKeyHash> OP_EQUALVERIFY OP_CHECKSIG\n")])]),i("p",[e._v("Two conditions must be fulfilled to unlock the UTXO:")]),i("ol",[i("li",[e._v("Timestamp must have elapsed (in the example above, it is a Unix epoch timestamp that refers to 27 March 2020 08:47:48).")]),i("li",[e._v("Provide the correct signature and public key as usual.")])]),i("p",[e._v("The payee can be certain that they are the only one able to redeem the UTXO after the required time has elapsed.")]),i("h2",{attrs:{id:"relative-timelocks-nsequence"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#relative-timelocks-nsequence","aria-hidden":"true"}},[e._v("#")]),e._v(" Relative Timelocks: nSequence")]),i("p",[e._v("Originally intended as a way to update transactions.")]),i("ul",[i("li",[e._v("Relative timelock on a transaction.")]),i("li",[e._v("Transaction only valid after inputs have aged a specific length of time.")]),i("li",[e._v("Can be specified either in blocks or seconds.")])]),i("p",[e._v("If a transaction has an nSequence of 24 hours, it will not be included in a block until 24 hours have elapsed between the mining of the UTXO that is being spent and the broadcast time.")]),i("h2",{attrs:{id:"relative-timelocks-check-sequence-verify-csv"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#relative-timelocks-check-sequence-verify-csv","aria-hidden":"true"}},[e._v("#")]),e._v(" Relative Timelocks: Check Sequence Verify (CSV)")]),i("ul",[i("li",[e._v("Relative timelock on transaction outputs (UTXO).")]),i("li",[e._v("Introduced in 2016.")]),i("li",[e._v("Restricts spending a UTXO until a certain number of blocks or seconds have elapsed since the transaction was mined.")])]),i("p",[e._v("Requires that the transaction spending the output sets an "),i("code",[e._v("nSequence")]),e._v(" of at least this value.")]),i("p",[e._v("Example locking script with CSV:")]),i("pre",{pre:!0,attrs:{class:"language-text"}},[i("code",[e._v("30 OP_CHECKSEQUENCEVERIFY OP_DROP OP_DUP OP_HASH160 <PubKeyHash> OP_EQUALVERIFY OP_CHECKSIG\n")])]),i("p",[e._v("To redeem this UTXO, an "),i("code",[e._v("nSequence")]),e._v(" of at least 30 must be set in the spending transaction.")])])}],!1,null,null,null);t.default=n.exports}}]);